<?xml version="1.0" encoding="UTF-8"?>
<CapabilityStatement xmlns="http://hl7.org/fhir" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir C:/FHIR/R4/fhir-all-xsd/fhir-single.xsd">
	<url value="http://ehelse.no/fhir/CapabilityStatement/gd-Person-Server-Requirements/v220"/>
	<version value="2.2.0"/>
	<name value="PersonServerRequirements"/>
	<title value="Requirements for Grunndata Person Service Interface for the test deliverable (L0)"/>
	<status value="draft"/>
	<date value="2020-03-25"/>
	<description value="Requirements for the Grunndata Person service provided by Direktoratet for e-helse"/>
	<kind value="requirements"/>
	<fhirVersion value="4.0.0"/>
	<format value="json"/>
	<format value="xml"/>
	<rest>
		<mode value="server"/>
		<documentation>
		<h2 id="limiting-the-search-result-to-elements-of-interest">Limiting the search result to elements of interest</h2>
<p>To limit the returned resource instances the FHIR server supports the use of two operations:</p>
<ul>
<li>_elements</li>
<li>_summary</li>
</ul>
<p>These operations can be added to any search to limit the information returned in the search result like this:</p>
<pre><code>GET http:%2F%2Fhapi.fhir.org%2FbaseR4%2FPerson%3Fname%3DEspen%26_elements%3Dname%2Caddress
</code></pre>
<h3 id="summary-value-false">Summary value = false</h3>
<p>A summary value of false will return all the information available about the Person.</p>
<pre><code>GET http://hapi.fhir.org/baseR4/Person?name=Espen&amp;_summary=false
</code></pre>
		The server must support a subset of the FHIR restful interactions described by HL7. Some special notes concerning the Capabilities offered by the server can be found in the ImplementationGuide for the service.
## Limiting the search result

### The server expects _elements

The server expects all read and search interactions to use the _elements operation specifying what elements should be included in the search result. In the case where the _elements operation is missing a resouce containing only the identifier element is returned.

###

To limit the returned resource instances the FHIR server supports the use of the _elements operation.


The operations can be added to any search to limit the information returned in the search result like this 
```
GET http:%2F%2Fhapi.fhir.org%2FbaseR4%2FPerson%3Fname%3DEspen%26_elements%3Dname%2Caddress
```
"/>
</documentation>
		<resource>
		<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-search-parameter-combination">
				<extension url="required">
					<valueString value="name"/>
				</extension>
				<extension url="required">
					<valueString value="birthdate"/>
				</extension>
			</extension>
			<type value="Person"/>
			<profile value="http://ehelse.no/fhir/StructureDefinition/gd-Person"/>
			<interaction>
				<code value="search-type"/>
				<documentation value="Search for a specific Resource type on some specified filter criteria"/>
			</interaction>
			<interaction>
				<code value="read"/>
				<documentation value="Normal read operation."/>
			</interaction>
			<interaction>
				<code value="vread"/>
				<documentation value="Normal read operation on specific versions."/>
			</interaction>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="_id"/>
				<type value="token"/>
				<documentation value="
					Search on Person by logical id of the Resource: 
					```
					GET [base]/Person?_id=[id]
					GET [base]/Person/[id]
					```"/>
			</searchParam>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="identifier"/>
				<type value="token"/>
				<documentation value="Search on Person.identifier: POST [base]/Person/_search  parameters in HTTP body: identifier=[system]|[code] Example: POST [base]/Person/_search parameters in HTTP body: identifier=urn:oid:2.16.578.1.12.4.1.4.1|04021950128"/>
			</searchParam>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="name"/>
				<type value="string"/>
				<documentation value="Search on Person.name: GET [base]/Person?name=[string]"/>
			</searchParam>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="birthDate"/>
				<type value="date"/>
				<documentation value="Search on Person.birthDate: GET [base]/Person?birthDate=[date]"/>
			</searchParam>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="middlename"/>
				<definition value="http://hl7.no/fhir/SearchParameter/no-basis-middlename"/>
				<type value="string"/>
				<documentation value="SearchParameter for the Norwegian middlename extension http://hl7.no/fhir/StructureDefinition/no-basis-middlename"/>
			</searchParam>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="given"/>
				<type value="string"/>
				<documentation value="Search on Person.given name: GET [base]/Person?given=[string]"/>
			</searchParam>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="family"/>
				<type value="string"/>
				<documentation value="Search on Person.family name: GET [base]/Person?family=[string]"/>
			</searchParam>
		</resource>
		<resource>
			<type value="RelatedPerson"/>
			<profile value="http://ehelse.no/fhir/StructureDefinition/gd-RelatedPerson"/>
			<interaction>
				<code value="search-type"/>
				<documentation value="Search for a specific Resource type on some specified filter criteria"/>
			</interaction>
			<interaction>
				<code value="read"/>
				<documentation value="Normal read operation."/>
			</interaction>
			<interaction>
				<code value="vread"/>
				<documentation value="Normal read operation on specific versions."/>
			</interaction>
			<searchInclude value="RelatedPerson:patient"/>
			<searchRevInclude value="Provenance:target"/>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="_id"/>
				<type value="token"/>
				<documentation value="Search on RelatedPerson by logical id of the Resource: GET [base]/RelatedPerson?_id=[id] or GET [base]/RelatedPerson/[id]"/>
			</searchParam>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="identifier"/>
				<type value="token"/>
				<documentation value="Search on RelatedPerson.identifier: POST [base]/RelatedPerson/_search parameters in HTTP body: identifier=[system]|[code] Example: POST [base]/RelatedPerson/_search parameters in HTTP body: identifier=urn:oid:2.16.578.1.12.4.1.4.1|13116900216"/>
			</searchParam>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="patient"/>
				<type value="reference"/>
				<documentation value="Search on RelatedPerson.patient reference: GET [base]/RelatedPerson?patient:identifier=[system]|[code] Example: GET [base]/RelatedPerson?patient:identifier=urn:oid:2.16.578.1.12.4.1.4.1|04021950128"/>
			</searchParam>
			<searchParam>
				<name value="name"/>
				<type value="string"/>
				<documentation value="Search on RelatedPerson.name: GET [base]/RelatedPerson?name=[string]"/>
			</searchParam>
			<searchParam>
				<name value="relationship"/>
				<type value="token"/>
				<documentation value="Search on RelatedPerson.relationship: GET [base]/RelatedPerson?relationship=[system]|[code]"/>
			</searchParam>
		</resource>
		<resource>
			<type value="Provenance"/>
			<profile value="http://ehelse.no/fhir/StructureDefinition/gd-Provenance"/>
			<interaction>
				<code value="search-type"/>
				<documentation value="Search for a specific Resource type on some specified filter criteria"/>
			</interaction>
			<interaction>
				<code value="read"/>
				<documentation value="Normal read operation."/>
			</interaction>
			<interaction>
				<code value="vread"/>
				<documentation value="Normal read operation on specific versions."/>
			</interaction>
			<searchInclude value="Provenance:agent"/>
			<searchInclude value="Provenance:entity"/>
			<searchInclude value="Provenance:target"/>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="_id"/>
				<type value="token"/>
				<documentation value="Search on Provenance by logical id of the Resource: GET [base]/Provenance?_id=[id] or GET [base]/Provenance/[id]"/>
			</searchParam>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="target"/>
				<type value="reference"/>
				<documentation value="Search on Provenance.target: GET [base]/Provenance?target=[reference]  Example: GET [base]/Provenance?target=Person/53098"/>
			</searchParam>
			<searchParam>
				<name value="entity"/>
				<type value="reference"/>
				<documentation value="Search on Provenance.entity reference: GET [base]/Provenance?entity=[reference]  Example: GET [base]/Provenance?entity=Person/53098"/>
			</searchParam>
			<searchParam>
				<extension url="http://hl7.org/fhir/StructureDefinition/capabilitystatement-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<name value="recorded"/>
				<type value="date"/>
				<documentation value="Search on Provenance.recorded: GET [base]/Provenance?recorded=[date]  Example: GET [base]Provenance?recorded=gt2019-10-14T10:00&amp;_sort=_id"/>
			</searchParam>
		</resource>
	</rest>
</CapabilityStatement>
