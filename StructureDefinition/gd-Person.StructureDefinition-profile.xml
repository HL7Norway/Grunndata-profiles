<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="gd-Person" />
  <url value="http://ehelse.no/fhir/StructureDefinition/gd-Person" />
  <version value="3.0.0" />
  <name value="GdPerson" />
  <status value="draft" />
  <date value="2019-12-11" />
  <publisher value="Direktoratet for e-helse" />
  <description value="The GdPerson profile describes the structure and coding of demographic data concerning a norwegian citizen or person with other legal relation with the kingdom of Norway. At this time the information is collected from FREG and presented through a FHIR RESTful interface from the Person information service.&#xD;&#xA;&#xD;&#xA;Folkeregisterperson fra FREG." />
  <fhirVersion value="4.0.0" />
  <kind value="resource" />
  <abstract value="false" />
  <type value="Person" />
  <baseDefinition value="http://hl7.no/fhir/StructureDefinition/no-basis-Person" />
  <derivation value="constraint" />
  <differential>
    <element id="Person.meta">
      <path value="Person.meta" />
      <definition value="THIS ELEMENT IS MANDATORY.&#xD;&#xA; The support of the Person.meta.security element is considered MANDATORY by all systems implementing access to the Person-API. &#xD;&#xA; The element is returned by default from the responder service. &#xD;&#xA; All requestor systems SHALL be able to display the information in the data element for human use meaning; any user given access to the information throug the system or subsystems should be able to interpret this information in a meaningfull way. Requestors SHALL be able to process and store the information. &#xD;&#xA; Some information made available by the service has special security and legal obligations and must be handled according to the relevant legislation. Any failure to support these requirements could lead to the harm or death of the Person whom the information concerns." />
      <mustSupport value="true" />
    </element>
    <element id="Person.meta.security">
      <path value="Person.meta.security" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="system" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <mustSupport value="true" />
    </element>
    <element id="Person.meta.security:addressConfidentiality">
      <path value="Person.meta.security" />
      <sliceName value="addressConfidentiality" />
      <short value="address confidentiality from FREG" />
      <definition value="informasjon om gradering av adresseinformasjon for personer iht. Beskyttelsesinstruksen eller Folkeregisterloven&#xD;&#xA;&#xD;&#xA;Informasjonen benyttes til å beskrive det overordnede felles beskyttelsesnivået en person har på alle sine adresser av typen bostedsadresse, oppholdsadresse og delt bosted. Adressebeskyttelsen gjelder ikke kontaktadressene." />
      <alias value="adressebeskyttelse" />
      <alias value="graderingsnivå" />
      <mustSupport value="true" />
      <binding>
        <strength value="required" />
        <description value="Security labels from FREG" />
        <valueSet value="http://ehelse.no/fhir/ValueSet/gd-person-addressprotection" />
      </binding>
    </element>
    <element id="Person.meta.security:addressConfidentiality.system">
      <path value="Person.meta.security.system" />
      <min value="1" />
      <fixedUri value="http://ehelse.no/fhir/CodeSystem/gd-address-confidentiality" />
      <mustSupport value="true" />
    </element>
    <element id="Person.meta.security:addressConfidentiality.code">
      <path value="Person.meta.security.code" />
      <short value="graderingsnivå from FREG" />
      <definition value="nivå av beskyttelsesgrad på informasjon&#xD;&#xA;Gyldige kodeverdier er:&#xD;&#xA;• ugradert&#xD;&#xA;• fortrolig&#xD;&#xA;• strengtFortrolig (strengt fortrolig)" />
      <alias value="graderingsnivå" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Person.meta.security:addressConfidentiality.extension">
      <path value="Person.meta.security.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Person.meta.security:addressConfidentiality.extension:fregMetadata">
      <path value="Person.meta.security.extension" />
      <sliceName value="fregMetadata" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-fregmetadata" />
      </type>
    </element>
    <element id="Person.implicitRules">
      <path value="Person.implicitRules" />
      <mustSupport value="false" />
    </element>
    <element id="Person.language">
      <path value="Person.language" />
      <mustSupport value="false" />
    </element>
    <element id="Person.text">
      <path value="Person.text" />
      <mustSupport value="false" />
    </element>
    <element id="Person.contained">
      <path value="Person.contained" />
      <mustSupport value="false" />
    </element>
    <element id="Person.extension">
      <path value="Person.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Person.extension:deceased">
      <path value="Person.extension" />
      <sliceName value="deceased" />
      <alias value="Dødsfall" />
      <type>
        <code value="Extension" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-deceased" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:birth">
      <path value="Person.extension" />
      <sliceName value="birth" />
      <alias value="Fødsel" />
      <type>
        <code value="Extension" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-birth" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:birth.extension">
      <path value="Person.extension.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Person.extension:birth.extension:birthYear">
      <path value="Person.extension.extension" />
      <sliceName value="birthYear" />
      <definition value="The birth year for the person registered in FREG. &#xD;&#xA;&#xD;&#xA;FREG always exposes a birthYear that can be found in this element. When the brithDate is known this information will exist in addition to the information about the birthYear of the person." />
    </element>
    <element id="Person.extension:birthInNorway">
      <path value="Person.extension" />
      <sliceName value="birthInNorway" />
      <type>
        <code value="Extension" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-birth-in-norway" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:migration">
      <path value="Person.extension" />
      <sliceName value="migration" />
      <short value="Migration information from FREG about a Person" />
      <definition value="Migration information from FREG about a Person&#xD;&#xA;&#xD;&#xA;utflytting/emigration&#xD;&#xA;informasjon om hvilket land og sted i dette landet en utflyttet person bor eller bodde etter utflyttingen fra Norge&#xD;&#xA;Utflytting, enten som følge av at en person selv melder om utflytting fra Norge eller som følge av at det foreligger annen informasjon som tilsier at en person har flyttet ut fra Norge, for eksempel fra annet nordisk folkeregister eller fra UDI. Utenlandske statsborgere som ikke lenger har adgang til å oppholde seg i Norge regnes som utflyttet, jf. folkeregisterforskriften § 4-7 nr 1 annet ledd. UDI sender melding til Folkeregisteret når en person har utgått oppholdstillatelse, tilbakekalt oppholdstillatelse eller statsborgerskap, bortfalt oppholdstillatelse eller er utvist fra Norge. Se for øvrig dokumentasjon av status utflyttet 5.2.1&#xD;&#xA;&#xD;&#xA;innflytting/immigration&#xD;&#xA;informasjon om hvilket land og sted i dette landet en innflyttet person bodde før innflyttingen til Norge&#xD;&#xA;Innflytting omfatter registrering i Folkeregisteret av personer som enten skal tildeles fødselsnummer fordi de skal bosettes, eller d-nummer fordi de regnes for å ha en midlertidig tilknytning til Norge.&#xD;&#xA;Gyldighetsdatoen settes til vedtaksdato for godkjent innflytting fra Utlendingsmyndigheten." />
      <type>
        <code value="Extension" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-migration" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:citizenship">
      <path value="Person.extension" />
      <sliceName value="citizenship" />
      <type>
        <code value="Extension" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-person-citizenship" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:citizenship.extension">
      <path value="Person.extension.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Person.extension:citizenship.extension:code">
      <path value="Person.extension.extension" />
      <sliceName value="code" />
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:citizenship.extension:code.value[x].coding.system">
      <path value="Person.extension.extension.value[x].coding.system" />
      <definition value="Grunndata - sets the system value of http://hl7.org/fhir/ValueSet/iso3166-1-3 or extension for the extended code values from FREG&#xD;&#xA;&#xD;&#xA;The identification of the code system that defines the meaning of the symbol in the code." />
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:citizenship.extension:code.value[x].coding.code">
      <path value="Person.extension.extension.value[x].coding.code" />
      <alias value="Kode for statsborgerskap" />
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:citizenship.extension:period">
      <path value="Person.extension.extension" />
      <sliceName value="period" />
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:citizenship.extension:period.value[x].start">
      <path value="Person.extension.extension.value[x].start" />
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:citizenship.extension:fregMetadata">
      <path value="Person.extension.extension" />
      <sliceName value="fregMetadata" />
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:fregPersonStatus">
      <path value="Person.extension" />
      <sliceName value="fregPersonStatus" />
      <type>
        <code value="Extension" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-person-status" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:residencePermit">
      <path value="Person.extension" />
      <sliceName value="residencePermit" />
      <short value="Information registered in FREG regarding the residence permit of the person." />
      <definition value="Information registered in FREG regarding the residence permit of the person.&#xD;&#xA;&#xD;&#xA;Informasjonen innen opphold beskriver opplysninger i Registeret som omfatter oppholdstillatelse, oppholdsrett og arbeidstillatelse." />
      <type>
        <code value="Extension" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-residence-permit" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.extension:fakeIdentity">
      <path value="Person.extension" />
      <sliceName value="fakeIdentity" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-fake-identity" />
      </type>
      <meaningWhenMissing value="When fakeIdentity is missing from the resource the Person resource, the information describes an actual person. Only a fregIsFake value of &quot;true&quot; means the Person information describes a known fake identity." />
    </element>
    <element id="Person.identifier">
      <path value="Person.identifier" />
      <slicing>
        <description value="Slicing discriminator from no-basis-Person" />
        <rules value="closed" />
      </slicing>
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="Person.identifier:FNR">
      <path value="Person.identifier" />
      <sliceName value="FNR" />
      <type>
        <code value="Identifier" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-Identifier-freg" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.identifier:DNR">
      <path value="Person.identifier" />
      <sliceName value="DNR" />
      <type>
        <code value="Identifier" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-Identifier-freg" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.identifier:foreignIdentifier">
      <path value="Person.identifier" />
      <sliceName value="foreignIdentifier" />
      <definition value="Identification number from foreign authority or the identifier value from the Norwegian immigration administration.&#xD;&#xA;Foreign identifiers from FREG is discriminated by the identifierType value. FREG uses two different elements for this information:&#xD;&#xA;- utenlandsk personidentifikasjon: informasjon om et personidentifikasjonsnummer fra en utenlandsk myndighet&#xD;&#xA;- utlendingsmyndighetenes identifikasjonsnummer: personidentifikasjonsnummer for person som blir førstegangsregistrert i landet av utlendingsmyndighetene. Dette nummeret går i dag ofte under navnet DUF-nummer" />
      <type>
        <code value="Identifier" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-Identifier-foreign" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.name">
      <path value="Person.name" />
      <definition value="navn på person som består av fornavn og ett enkelt eller dobbelt etternavn og kan i tillegg bestå av mellomnavn&#xD;&#xA;&#xD;&#xA;gd-HumanName Contains information and metadata for human names defined in Norwegian Master Person Index and Norwegian Directorate of e-Health's health related Master Person Index.&amp;#xD;&amp;#xA;&amp;#xD;&amp;#xA;Defines the format of norwegian human name according to norwegian regulation (lov om personnavn)." />
      <type>
        <code value="HumanName" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-HumanName" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.gender">
      <path value="Person.gender" />
      <short value="Juridical gender of the person male | female" />
      <definition value="The juridical gender of the person. Only codes for male and female is used by FREG (mann/kvinne). Includes FREG metadata. Gender history must be collected via Hendelser as no more than one gender is supported by the base FHIR Resource.&#xD;&#xA;&#xD;&#xA;Beskrivelse fra kilden FREG&#xD;&#xA;det kjønnet en person er registrert med i Folkeregisteret&#xD;&#xA;Dette er et nytt eget informasjonsfelt i Folkeregisteret siden det kun var en del av informasjonen i fødsels- eller d-nummeret i DSF.&#xD;&#xA;Informasjonen gir det «juridiske kjønn» som personen har fått eller selv har valgt.&#xD;&#xA;Mulige verdier etter Folkeregisterloven:&#xD;&#xA;• mann&#xD;&#xA;• kvinne&#xD;&#xA;Under migrering vil kjønn settes ut fra kodingen av kjønn som del av fødsels- eller d-nummer (3. siffer i personnummeret som partall gir kvinne.)&#xD;&#xA;Når kjønn er migrert til Registeret vil kjønn kunne endres separat i Freg.&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;Administrative Gender." />
      <alias value="kjønn" />
      <alias value="personkjønn" />
      <mustSupport value="true" />
      <binding>
        <strength value="required" />
        <valueSet value="http://ehelse.no/fhir/ValueSet/gd-person-gender" />
      </binding>
    </element>
    <element id="Person.gender.extension">
      <path value="Person.gender.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Person.gender.extension:metadata">
      <path value="Person.gender.extension" />
      <sliceName value="metadata" />
      <short value="Metadata about gender from FREG" />
      <definition value="Metadata about gender from FREG" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-fregmetadata" />
      </type>
    </element>
    <element id="Person.birthDate">
      <path value="Person.birthDate" />
      <definition value="The birth date for the person registered in FREG. FREG always exposes a birthYear that can be found in the gd-birth extension: Person.extension:birthYear&#xD;&#xA;&#xD;&#xA;When the brithDate is known this information will exist in addition to the information about the birthYear found in the gd-birth extension.&#xD;&#xA;&#xD;&#xA;The metadata about the birtDate from FREG is always connected to the gd-birth extension: Person.extension:birth&#xD;&#xA;FREG can expose more than one birthDate of any given person but the FHIR model only allows one recorded birthDate&#xD;&#xA;&#xD;&#xA;datoen en person er født&#xD;&#xA;&#xD;&#xA;I det gamle DSF hadde vi ikke eget felt for fødselsdato. Fødselsdatoen (riktig, fastsatt eller fiktiv) fremkommer kun av fødselsnummer/d-nummer. Dette betyr at når vi ikke har ubrukte tilgjengelige fødselsnumre/d-numre for en spesifikk fødselsdato (&quot;presset dato&quot;) så settes en fiktiv fødselsdato i fødselsnummeret/d-nummeret. Den reelle fødselsdatoen er dermed ikke tilgjengelig i DSF." />
      <alias value="fødselsdato" />
      <mustSupport value="true" />
    </element>
    <element id="Person.address">
      <path value="Person.address" />
      <definition value="Grunndata uses Five different address content types expressed in gd-Address profiles that further restricts the use of the http://hl7.no/fhir/StructureDefinition/no-basis-Address to contain information from the norwegian Master person index.&#xD;&#xA;&#xD;&#xA;Based on: http://hl7.no/fhir/StructureDefinition/no-basis-Address" />
      <type>
        <code value="Address" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-Address-cadastral" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-Address-international" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-Address-street" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-Address-box" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-Address-freeform" />
        <profile value="http://ehelse.no/fhir/StructureDefinition/gd-Address-unknown" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="Person.photo">
      <path value="Person.photo" />
      <mustSupport value="false" />
    </element>
    <element id="Person.managingOrganization">
      <path value="Person.managingOrganization" />
      <mustSupport value="false" />
    </element>
    <element id="Person.active">
      <path value="Person.active" />
      <definition value="Gd-Person use this element to describe active and not active Person-resources. There are currently different cases that translates into active=false:&#xD;&#xA;&#xD;&#xA;* fregPersonStatus= opphørt&#xD;&#xA;* In some special cases where two Person documents are merged into one&#xD;&#xA;* In some special cases where a Person document is nullified because it was registered in error&#xD;&#xA;&#xD;&#xA;A person instances can become not-active in special cases where two person instances is appended into one. In this case one Person instance remains active (active=true) while the duplicate is considered not-active (active=false).&#xD;&#xA;&#xD;&#xA;Person instances with value active=false is not returned from the service unless a specific search is made for instances containing the active=false value.&#xD;&#xA;&#xD;&#xA;Whether this person's record is in active use." />
      <mustSupport value="true" />
      <mapping>
        <identity value="freg" />
        <map value="n/a" />
        <comment value="There are no direct mapping of this concept to FREG" />
      </mapping>
    </element>
    <element id="Person.link">
      <path value="Person.link" />
      <mustSupport value="false" />
    </element>
  </differential>
</StructureDefinition>